boolean img[210][10] = {
{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{1, 1, 1, 1, 1, 1, 1, 1, 1, 1}
,{1, 1, 1, 1, 1, 1, 1, 1, 1, 1}
,{0, 0, 0, 0, 1, 1, 0, 0, 1, 1}
,{0, 0, 0, 0, 1, 1, 0, 0, 1, 1}
,{0, 0, 0, 0, 1, 1, 0, 0, 1, 1}
,{0, 0, 0, 0, 1, 1, 0, 0, 1, 1}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{1, 1, 1, 1, 1, 1, 1, 1, 1, 1}
,{1, 1, 1, 1, 1, 1, 1, 1, 1, 1}
,{0, 0, 0, 0, 1, 1, 0, 0, 1, 1}
,{0, 0, 0, 0, 1, 1, 0, 0, 1, 1}
,{0, 0, 0, 0, 1, 1, 0, 0, 1, 1}
,{0, 0, 1, 1, 1, 1, 0, 0, 1, 1}
,{1, 1, 1, 1, 1, 1, 1, 1, 1, 1}
,{1, 1, 1, 0, 0, 0, 1, 1, 1, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{1, 1, 1, 1, 1, 1, 1, 1, 1, 1}
,{1, 1, 1, 1, 1, 1, 1, 1, 1, 1}
,{1, 1, 0, 0, 1, 1, 0, 0, 1, 1}
,{1, 1, 0, 0, 1, 1, 0, 0, 1, 1}
,{1, 1, 0, 0, 1, 1, 0, 0, 1, 1}
,{1, 1, 0, 0, 1, 1, 0, 0, 1, 1}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{1, 1, 1, 1, 1, 1, 1, 1, 1, 1}
,{1, 1, 1, 1, 1, 1, 1, 1, 1, 1}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{1, 0, 0, 0, 0, 0, 0, 0, 0, 1}
,{1, 1, 0, 0, 0, 0, 0, 0, 1, 1}
,{1, 1, 1, 1, 0, 0, 1, 1, 1, 1}
,{0, 0, 1, 1, 1, 1, 1, 1, 1, 0}
,{0, 0, 0, 1, 1, 1, 1, 0, 0, 0}
,{0, 1, 1, 1, 1, 1, 1, 1, 1, 0}
,{1, 1, 1, 1, 0, 0, 1, 1, 1, 1}
,{1, 1, 0, 0, 0, 0, 0, 0, 1, 1}
,{1, 0, 0, 0, 0, 0, 0, 0, 0, 1}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 1, 1, 1, 1, 0, 0, 0}
,{0, 1, 1, 1, 1, 1, 1, 1, 1, 0}
,{1, 1, 1, 0, 0, 0, 0, 1, 1, 0}
,{1, 1, 0, 0, 0, 0, 0, 0, 1, 1}
,{1, 1, 0, 0, 0, 0, 0, 0, 1, 1}
,{1, 1, 0, 0, 0, 0, 0, 0, 1, 1}
,{1, 1, 0, 0, 0, 0, 0, 0, 1, 1}
,{0, 1, 1, 0, 0, 0, 0, 1, 1, 1}
,{0, 1, 1, 1, 1, 1, 1, 1, 1, 0}
,{0, 0, 0, 1, 1, 1, 1, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 1, 1, 1, 0, 0, 0, 0}
,{0, 1, 1, 1, 1, 1, 1, 1, 0, 0}
,{0, 1, 1, 1, 1, 1, 1, 1, 0, 0}
,{1, 1, 1, 1, 1, 1, 1, 1, 1, 0}
,{1, 1, 0, 0, 0, 0, 0, 1, 1, 0}
,{1, 1, 0, 0, 0, 0, 0, 1, 1, 0}
,{1, 1, 0, 0, 0, 0, 0, 1, 1, 0}
,{1, 1, 0, 0, 0, 0, 0, 1, 1, 0}
,{1, 1, 1, 1, 1, 1, 1, 1, 1, 0}
,{0, 1, 1, 1, 1, 1, 1, 1, 0, 0}
,{0, 1, 1, 1, 1, 1, 1, 1, 0, 0}
,{0, 0, 0, 1, 1, 1, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 1, 1, 0, 0, 0}
,{1, 1, 0, 0, 1, 1, 1, 1, 0, 0}
,{1, 1, 0, 0, 1, 1, 1, 1, 0, 0}
,{1, 1, 0, 1, 1, 1, 1, 1, 1, 0}
,{1, 1, 0, 1, 1, 0, 0, 1, 1, 0}
,{1, 1, 0, 1, 1, 0, 0, 1, 1, 0}
,{1, 1, 0, 1, 1, 0, 0, 1, 1, 0}
,{1, 1, 1, 1, 1, 0, 0, 1, 1, 0}
,{1, 1, 1, 1, 1, 0, 0, 1, 1, 0}
,{1, 1, 1, 1, 1, 0, 0, 1, 1, 0}
,{0, 0, 0, 0, 1, 0, 0, 1, 1, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 1, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
,{0, 0, 0, 0, 0, 0, 0, 0, 0, 0}

};

#define NUMBER_OF_LEDS 10
#define REED 2
#define POT A5

//uint8_t LEDS[] = {A4, A3, A2, A1, A0, 13, 12, 11, 10, 9};
uint8_t LEDS[] = {9, 10, 11, 12, 13, A0, A1, A2, A3, A4};

boolean last_reed = LOW;
float mps = 50000.0;
unsigned long time = 0;
unsigned long clock = 0;
unsigned long time2 = 0;
unsigned long clock2 = 0;
unsigned long milisec = 0;

int pos = 0;

void setup(){
  for (int i = 0; i < NUMBER_OF_LEDS; i++){
    pinMode(LEDS[i],OUTPUT);
  }
  pinMode(REED,INPUT);
  Serial.begin(9600);
}

void loop() {
  int reed_val = digitalRead(REED);
  int pot = analogRead(POT);
  int gap = int(pot/1023.0*200.0);
  /*
  Serial.print(gap);
  Serial.print(" ");
  Serial.println(pot);
  //*/
  
  if(reed_val != last_reed){
    if(reed_val == LOW){
      time = micros() - clock;
      clock = micros();
      pos = 0;
      mps = (float)time / 800;
    }
    last_reed = reed_val;
  }//*/

  if(micros() - clock2 > mps){
    
    clock2 = micros();
    
    pos = (int)((float)(clock2 - clock)/mps*.25);
    int newpos = (gap + pos) % 200;
    
    Serial.println(newpos);
    
    if(newpos>0 && newpos<200){
      
      for (int i = 0; i < NUMBER_OF_LEDS; i++){
        digitalWrite(LEDS[i], img[newpos+10][i]);
      }
    }
  }
  //*/
  delayMicroseconds(5);
}
